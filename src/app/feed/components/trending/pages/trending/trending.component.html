<app-nav-bar></app-nav-bar>
<app-side-bar></app-side-bar>
<div class="container">
    <mat-card *ngFor="let post of posts">
        <mat-card-header>
            <img src="{{post?.creatorPhoto}}" alt="">
            <mat-card-title class="title">{{post?.creatorName}}</mat-card-title>
            <mat-card-subtitle class="title">{{post?.date}}</mat-card-subtitle>

            <button id="menu" class="menu" mat-icon-button [matMenuTriggerFor]="menu" *ngIf="post?.creatorId == userUid"
                class="action-item">
                <mat-icon>more_vert</mat-icon>
            </button>

            <mat-menu #menu="matMenu">
                <button mat-menu-item>
                    <i class='bx bx-trash-alt'></i>
                    <span (click)="deletePost(post?.postId)" class="trash">Deletar post</span>
                </button>
            </mat-menu>

        </mat-card-header>
        <mat-card-content class="contador">
            {{post?.title}}
        </mat-card-content>
        <img *ngIf="post?.imageUrl != ''" mat-card-image src="{{post?.imageUrl}}" class="img">
        <video *ngIf=" post?.videoUrl != ''" width="270" height="210" controls>
            <source src="{{post?.videoUrl}}" type="video/mp4">
        </video>


        <mat-card-actions class="contador">
            <i class='bx bx-upvote' (click)="likes(post)"><span>{{post?.tagCount}}</span></i>
            <i class='bx bx-comment-detail' (click)="onReplyClick(post)"><span class="comment"></span></i>
        </mat-card-actions>
    </mat-card>
</div>